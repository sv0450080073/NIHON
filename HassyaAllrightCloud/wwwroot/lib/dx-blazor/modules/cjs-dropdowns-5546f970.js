_dxBlazorInternal.define("cjs-dropdowns-5546f970.js",function(e,n,t){e("./cjs-chunk-c43b3f7c.js");var o=e("./cjs-dom-utils-6a09eac3.js"),c=e("./cjs-chunk-509db829.js"),r=e("./cjs-chunk-9109506d.js"),s=e("./cjs-chunk-7aa0d757.js"),u=document.body,i={},a=[],l={subtree:!0,childList:!0},d=new MutationObserver(function(e,n){for(var t=0;t<e.length;t++)e[t].removedNodes.forEach(function(e){a.filter(function(n){return e===n.element}).map(function(e){return e.callback}).forEach(function(e){return e()})})});function f(e){return i[e]||(i[e]=new Promise(function(n,t){0===a.length&&d.observe(u,l),function(e,n){var t={element:e,callback:function(){a.splice(a.indexOf(t),1),delete i[e],0===a.length&&d.disconnect(),n()}};a.push(t)}(e,n)}))}var v={Popup:0,Modal:1};function m(e,n,t){for(var o=e.target;o;){if(o===n)return!1;o=o.parentElement}t&&t()}function E(e){return"none"!==e.style.display}var h="a[href], input:not([disabled]), button:not([disabled]), [tabindex]:not([tabindex='-1'])";var p={Init:function(e,n,t,s){if(e=o.EnsureElement(e),n=o.EnsureElement(n),t=o.EnsureElement(t),e){if(c.DisposeEvents(e),t){var u=function(r){return m(r,e,function(){o.elementIsInDOM(e)||c.DisposeEvents(e);var r=document.activeElement===n,u=t&&E(t);(r||u)&&s.invokeMethodAsync("OnDropDownLostFocus",n.value)})};o.AttachEventToElement(document,r.TouchUIHelper.touchMouseDownEventName,u),c.RegisterDisposableEvents(e,function(){o.DetachEventFromElement(document,r.TouchUIHelper.touchMouseDownEventName,u)})}return Promise.resolve("ok")}},Dispose:function(e){return(e=o.EnsureElement(e))&&c.DisposeEvents(e),Promise.resolve("ok")},ShowAdaptiveDropdown:function(e,n,t,c,u){e=o.EnsureElement(e),o.GetParentByClassName(e,t).querySelector("."+c);var i=document.documentElement,a=!1;function l(t){(!e.contains(t.srcElement)||n===v.Modal&&e===t.srcElement)&&m()}function d(n){i.removeEventListener("focusin",d),null===n.relatedTarget&&n.target&&e.contains(n.target)&&n.target.focus()}function m(){a||(a=!0,E(),u.invokeMethodAsync("CloseDialog"))}function E(){i.removeEventListener(r.TouchUIHelper.touchMouseDownEventName,l)}function p(){var n=e.querySelector(h);n&&n.focus()}return i.addEventListener(r.TouchUIHelper.touchMouseDownEventName,l),e.addEventListener("keydown",function(e){e.keyCode===s.Key.Esc&&m()}),e.addEventListener("focusout",function(n){var t,o,c;a||(null===n.relatedTarget||e.contains(n.relatedTarget)?null===n.relatedTarget&&i.addEventListener("focusin",d):void((t=e.compareDocumentPosition(n.relatedTarget))&Node.DOCUMENT_POSITION_PRECEDING?(c=e.querySelectorAll(h),void((o=c[c.length-1])&&o.focus())):t&Node.DOCUMENT_POSITION_FOLLOWING&&p()))}),n===v.Modal&&e.addEventListener("touchmove",function(n){n.srcElement===e&&n.preventDefault()}),f(e).then(function(){E()}),o.changeDom(p),Promise.resolve()}};t.IsDropDownVisible=E,t.OnOutsideClick=m,t.default=p},["cjs-chunk-c43b3f7c.js","cjs-dom-utils-6a09eac3.js","cjs-chunk-509db829.js","cjs-chunk-9109506d.js","cjs-chunk-7aa0d757.js"]);
