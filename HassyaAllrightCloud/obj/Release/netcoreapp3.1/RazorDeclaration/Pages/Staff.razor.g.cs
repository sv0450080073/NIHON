#pragma checksum "E:\Project\HassyaAllrightCloud\Pages\Staff.razor" "{ff1816ec-aa5e-4d10-87f7-6f4963833460}" "9b126d6d6d0250cb7b5df903c24cdb4b396be065"
// <auto-generated/>
#pragma warning disable 1591
#pragma warning disable 0414
#pragma warning disable 0649
#pragma warning disable 0169

namespace HassyaAllrightCloud.Pages
{
    #line hidden
    using System;
    using System.Collections.Generic;
    using System.Threading.Tasks;
    using Microsoft.AspNetCore.Components;
#nullable restore
#line 1 "E:\Project\HassyaAllrightCloud\_Imports.razor"
using System.Net.Http;

#line default
#line hidden
#nullable disable
#nullable restore
#line 2 "E:\Project\HassyaAllrightCloud\_Imports.razor"
using Microsoft.AspNetCore.Authorization;

#line default
#line hidden
#nullable disable
#nullable restore
#line 3 "E:\Project\HassyaAllrightCloud\_Imports.razor"
using Microsoft.AspNetCore.Components.Authorization;

#line default
#line hidden
#nullable disable
#nullable restore
#line 4 "E:\Project\HassyaAllrightCloud\_Imports.razor"
using Microsoft.AspNetCore.Components.Forms;

#line default
#line hidden
#nullable disable
#nullable restore
#line 5 "E:\Project\HassyaAllrightCloud\_Imports.razor"
using Microsoft.AspNetCore.Components.Routing;

#line default
#line hidden
#nullable disable
#nullable restore
#line 6 "E:\Project\HassyaAllrightCloud\_Imports.razor"
using Microsoft.AspNetCore.Components.Web;

#line default
#line hidden
#nullable disable
#nullable restore
#line 7 "E:\Project\HassyaAllrightCloud\_Imports.razor"
using System.Globalization;

#line default
#line hidden
#nullable disable
#nullable restore
#line 8 "E:\Project\HassyaAllrightCloud\_Imports.razor"
using Microsoft.JSInterop;

#line default
#line hidden
#nullable disable
#nullable restore
#line 9 "E:\Project\HassyaAllrightCloud\_Imports.razor"
using HassyaAllrightCloud;

#line default
#line hidden
#nullable disable
#nullable restore
#line 10 "E:\Project\HassyaAllrightCloud\_Imports.razor"
using HassyaAllrightCloud.Infrastructure.Services;

#line default
#line hidden
#nullable disable
#nullable restore
#line 11 "E:\Project\HassyaAllrightCloud\_Imports.razor"
using HassyaAllrightCloud.Shared;

#line default
#line hidden
#nullable disable
#nullable restore
#line 12 "E:\Project\HassyaAllrightCloud\_Imports.razor"
using HassyaAllrightCloud.Routing;

#line default
#line hidden
#nullable disable
#nullable restore
#line 13 "E:\Project\HassyaAllrightCloud\_Imports.razor"
using HassyaAllrightCloud.Domain.Entities;

#line default
#line hidden
#nullable disable
#nullable restore
#line 14 "E:\Project\HassyaAllrightCloud\_Imports.razor"
using HassyaAllrightCloud.Domain.Dto;

#line default
#line hidden
#nullable disable
#nullable restore
#line 15 "E:\Project\HassyaAllrightCloud\_Imports.razor"
using HassyaAllrightCloud.Commons.Helpers;

#line default
#line hidden
#nullable disable
#nullable restore
#line 16 "E:\Project\HassyaAllrightCloud\_Imports.razor"
using HassyaAllrightCloud.Commons.Constants;

#line default
#line hidden
#nullable disable
#nullable restore
#line 17 "E:\Project\HassyaAllrightCloud\_Imports.razor"
using BlazorContextMenu;

#line default
#line hidden
#nullable disable
#nullable restore
#line 18 "E:\Project\HassyaAllrightCloud\_Imports.razor"
using HassyaAllrightCloud.Application.Validation;

#line default
#line hidden
#nullable disable
#nullable restore
#line 19 "E:\Project\HassyaAllrightCloud\_Imports.razor"
using DevExpress.Blazor;

#line default
#line hidden
#nullable disable
#nullable restore
#line 20 "E:\Project\HassyaAllrightCloud\_Imports.razor"
using System.Linq;

#line default
#line hidden
#nullable disable
#nullable restore
#line 21 "E:\Project\HassyaAllrightCloud\_Imports.razor"
using Newtonsoft.Json;

#line default
#line hidden
#nullable disable
#nullable restore
#line 22 "E:\Project\HassyaAllrightCloud\_Imports.razor"
using Newtonsoft.Json.Linq;

#line default
#line hidden
#nullable disable
#nullable restore
#line 23 "E:\Project\HassyaAllrightCloud\_Imports.razor"
using Microsoft.Extensions.Localization;

#line default
#line hidden
#nullable disable
#nullable restore
#line 24 "E:\Project\HassyaAllrightCloud\_Imports.razor"
using HassyaAllrightCloud.IService;

#line default
#line hidden
#nullable disable
#nullable restore
#line 25 "E:\Project\HassyaAllrightCloud\_Imports.razor"
using System.IO;

#line default
#line hidden
#nullable disable
#nullable restore
#line 26 "E:\Project\HassyaAllrightCloud\_Imports.razor"
using LexLibrary.Line.NotifyBot.Models;

#line default
#line hidden
#nullable disable
#nullable restore
#line 27 "E:\Project\HassyaAllrightCloud\_Imports.razor"
using LexLibrary.Line.NotifyBot;

#line default
#line hidden
#nullable disable
#nullable restore
#line 28 "E:\Project\HassyaAllrightCloud\_Imports.razor"
using DevExpress.Blazor.Reporting;

#line default
#line hidden
#nullable disable
#nullable restore
#line 2 "E:\Project\HassyaAllrightCloud\Pages\Staff.razor"
using HassyaAllrightCloud.Pages.Components;

#line default
#line hidden
#nullable disable
#nullable restore
#line 3 "E:\Project\HassyaAllrightCloud\Pages\Staff.razor"
using HassyaAllrightCloud.Pages.Components.Staff;

#line default
#line hidden
#nullable disable
    [Microsoft.AspNetCore.Components.RouteAttribute("/staff")]
    public partial class Staff : Microsoft.AspNetCore.Components.ComponentBase, IDisposable
    {
        #pragma warning disable 1998
        protected override void BuildRenderTree(Microsoft.AspNetCore.Components.Rendering.RenderTreeBuilder __builder)
        {
        }
        #pragma warning restore 1998
#nullable restore
#line 205 "E:\Project\HassyaAllrightCloud\Pages\Staff.razor"
      
    public ConfigStaff Param = new ConfigStaff();
    DateTime Date { get; set; } = DateTime.Today;
    int activeTabIndex = 0;
    int ActiveTabIndex { get => activeTabIndex; set { activeTabIndex = value; StateHasChanged(); } }
    public static List<StaffData> ListStaff = new List<StaffData>();
    public static List<JobData> ListJobs = new List<JobData>();
    public static List<HolidayData> ListHoliday = new List<HolidayData>();
    public static List<WorkData> ListWork = new List<WorkData>();
    List<BusCompanyType> lstBranchType = new List<BusCompanyType>();
    List<BusCompanyType> lstCompanyType = new List<BusCompanyType>();
    public double Width { get; set; }
    bool isLoading { get; set; } = true;
    string d = DateTime.Today.ToString("yyyyMMdd");
    string dprev = DateTime.Today.AddDays(-1).ToString("yyyyMMdd");
    string dnext = DateTime.Today.AddDays(1).ToString("yyyyMMdd");

    /// <summary>
    /// Load javascript of page
    /// </summary>
    protected override void OnParametersSet()
    {
        JSRuntime.InvokeVoidAsync("loadPageScript", "staffPage");
        base.OnParametersSet();
    }

    private async void OnDateChanged(DateTime newValue)
    {
        Date = newValue;
        isLoading = true;
        await Task.Run(() =>
        {
            Loadpage().Wait();
            isLoading = false;
        });
        StateHasChanged();
    }

    private async void onPrevious(MouseEventArgs e)
    {
        Date = Date.AddDays(-1);
        isLoading = true;
        await Task.Run(() =>
        {
            Loadpage().Wait();
            isLoading = false;
        });
        StateHasChanged();
    }

    private async void onNext(MouseEventArgs e)
    {
        Date = Date.AddDays(1);
        isLoading = true;
        await Task.Run(() =>
        {
            Loadpage().Wait();
            isLoading = false;
        });
        StateHasChanged();
    }

    void clickGroupMode(MouseEventArgs e, int number)
    {
        Param.Group = number;
    }

    void clickTimeMode(MouseEventArgs e, int number)
    {
        Param.Time = number;
    }

    void clickStaffLine(MouseEventArgs e, int number)
    {
        Param.View = number;
        StateHasChanged();
    }

    void clickStaffSortOrder(MouseEventArgs e, int number)
    {
        Param.Sort = number;
    }

    void clickStaffDisplay1(MouseEventArgs e, int number)
    {
        Param.Display = number;
    }

    void clickStaffCrewSortOrder(MouseEventArgs e, int number)
    {
        Param.CrewSort = number;
    }

    void clickStaffWorkSortOrder(MouseEventArgs e, int number)
    {
        Param.WorkSort = number;
    }

    void clickStaffDisplay2(MouseEventArgs e, int number)
    {
        Param.Display2 = number;
    }

    public async Task Loadpage()
    {
        foreach (var staff in ListStaff)
        {
            if (staff.JobID != 0)
            {
                staff.Status = Flag.Todo;
            }
            else
            {
                if (staff.HolidayID != 0)
                {
                    staff.Status = Flag.Absense;
                }
                else
                {
                    staff.Status = Flag.NotTodo;
                }
            }

            foreach (var i in ListHoliday)
            {
                if (staff.HolidayID == i.HolidayID)
                {
                    staff.HolidayNm = i.HolidayNm;
                }
            }

            foreach (var i in ListWork)
            {
                if (staff.WorkID == i.WorkID)
                {
                    staff.WorkNm = i.WorkNm;
                }
            }
        }

        foreach (var job in ListJobs)
        {
            DateTime start, end;
            DateTime.TryParseExact(job.StartDate, "yyyyMMdd", CultureInfo.InvariantCulture, DateTimeStyles.None, out start);
            DateTime.TryParseExact(job.EndDate, "yyyyMMdd", CultureInfo.InvariantCulture, DateTimeStyles.None, out end);
            if (DateTime.Compare(start, Date) <= 0 && DateTime.Compare(end, Date) >= 0)
            {
                if (ListStaff.Select(x=>x.JobID).ToList().Contains(job.JobID))
                {
                    job.IsDoing = true;
                }
                else
                {
                    job.IsDoing = false;
                }
            }
            else
            {
                job.IsDoing = true;
            }
            job.Width = BusScheduleHelper.calwidth(Width, job.StartDate, job.TimeStart.ToString("D4"), job.EndDate, job.TimeEnd.ToString("D4"), 1);
            job.Left = BusScheduleHelper.calleft(Width, job.StartDate, job.TimeStart.ToString("D4"), 1, Date);
        }
        await InvokeAsync(StateHasChanged);
    }

    protected override async Task OnInitializedAsync()
    {
        Param = new ConfigStaff();
        Param.Group = (int)GroupMode.All;
        Param.Time = (int)TimeMode.ThreeHours;
        Param.View = (int)ViewMode.Large;
        Param.Sort = (int)StaffSortOrder.Earlier;
        Param.Display = (int)StaffDisplay1.Assigned;
        Param.CrewSort = (int)StaffCrewSortOrder.EmployeeCodeOrder;
        Param.WorkSort = (int)StaffWorkSortOrder.Earlier;
        Param.Display2 = (int)StaffDisplay2.Driver;

        ListStaff = new List<StaffData>();
        // ToDo
        ListStaff.Add(new StaffData { SyokumuCdSeq = 2, SyokumuNm = "契約運転手", SyainNm = "掛田携帯", SyainCdSeq = 2, SyainCd = "0000010001", HolidayID = 0, BranchID = 2, CompanyID = 2, JobID = 2, WorkID = 11, TenkoNo ="0001"});
        ListStaff.Add(new StaffData { SyokumuCdSeq = 3, SyokumuNm = "ガイド", SyainNm = "掛田ＰＣ２", SyainCdSeq = 3, SyainCd = "0000010002", HolidayID = 0, BranchID = 1, CompanyID = 2, JobID = 3, WorkID = 0, TenkoNo ="0005"});
        ListStaff.Add(new StaffData { SyokumuCdSeq = 4, SyokumuNm = "契約ガイド", SyainNm = "野口五郎", SyainCdSeq = 4, SyainCd = "0000010003", HolidayID = 0, BranchID = 1, CompanyID = 2, JobID = 4, WorkID = 0, TenkoNo ="0004"});
        ListStaff.Add(new StaffData { SyokumuCdSeq = 5, SyokumuNm = "内勤１", SyainNm = "田原俊彦", SyainCdSeq = 5, SyainCd = "0000010004", HolidayID = 0, BranchID = 1, CompanyID = 1, JobID = 5, WorkID = 0, TenkoNo ="0006"});
        ListStaff.Add(new StaffData { SyokumuCdSeq = 6, SyokumuNm = "内勤２", SyainNm = "近藤真彦", SyainCdSeq = 6, SyainCd = "0000010005", HolidayID = 0, BranchID = 1, CompanyID = 1, JobID = 6, WorkID = 0, TenkoNo ="0003"});
        // NotToDo
        ListStaff.Add(new StaffData { SyokumuCdSeq = 1, SyokumuNm = "内勤１", SyainNm = "リー", SyainCdSeq = 7, SyainCd = "2000010003", HolidayID = 0, BranchID = 1, CompanyID = 1, JobID = 0, WorkID = 0, TenkoNo ="0007"});
        ListStaff.Add(new StaffData { SyokumuCdSeq = 2, SyokumuNm = "内勤２", SyainNm = "アン", SyainCdSeq = 8, SyainCd = "2000010004", HolidayID = 0, BranchID = 1, CompanyID = 1, JobID = 0, WorkID = 0, TenkoNo ="0008"});
        ListStaff.Add(new StaffData { SyokumuCdSeq = 1, SyokumuNm = "内勤3", SyainNm = "リー", SyainCdSeq = 9, SyainCd = "2000010003", HolidayID = 0, BranchID = 1, CompanyID = 1, JobID = 0, WorkID = 0, TenkoNo ="0009"});
        ListStaff.Add(new StaffData { SyokumuCdSeq = 2, SyokumuNm = "内勤4", SyainNm = "アン", SyainCdSeq = 10, SyainCd = "2000010004", HolidayID = 0, BranchID = 1, CompanyID = 1, JobID = 0, WorkID = 0, TenkoNo ="0010"});
        ListStaff.Add(new StaffData { SyokumuCdSeq = 1, SyokumuNm = "内勤5", SyainNm = "タイ", SyainCdSeq = 11, SyainCd = "2000010005", HolidayID = 0, BranchID = 1, CompanyID = 1, JobID = 0, WorkID = 0, TenkoNo ="0011"});
        ListStaff.Add(new StaffData { SyokumuCdSeq = 2, SyokumuNm = "内勤6", SyainNm = "アン", SyainCdSeq = 12, SyainCd = "2000010004", HolidayID = 0, BranchID = 1, CompanyID = 1, JobID = 0, WorkID = 0, TenkoNo ="0012"});
        ListStaff.Add(new StaffData { SyokumuCdSeq = 1, SyokumuNm = "内勤7", SyainNm = "リー", SyainCdSeq = 13, SyainCd = "2000010003", HolidayID = 0, BranchID = 1, CompanyID = 1, JobID = 0, WorkID = 0, TenkoNo ="0013"});
        ListStaff.Add(new StaffData { SyokumuCdSeq = 2, SyokumuNm = "内勤8", SyainNm = "アン", SyainCdSeq = 14, SyainCd = "2000010004", HolidayID = 0, BranchID = 1, CompanyID = 1, JobID = 0, WorkID = 0, TenkoNo ="0014"});
        ListStaff.Add(new StaffData { SyokumuCdSeq = 1, SyokumuNm = "内勤9", SyainNm = "タイ", SyainCdSeq = 15, SyainCd = "2000010005", HolidayID = 0, BranchID = 1, CompanyID = 1, JobID = 0, WorkID = 0, TenkoNo ="0015"});
        ListStaff.Add(new StaffData { SyokumuCdSeq = 2, SyokumuNm = "内勤10", SyainNm = "リー", SyainCdSeq = 16, SyainCd = "2000010003", HolidayID = 0, BranchID = 1, CompanyID = 1, JobID = 0, WorkID = 0, TenkoNo ="0016"});
        ListStaff.Add(new StaffData { SyokumuCdSeq = 1, SyokumuNm = "内勤11", SyainNm = "アン", SyainCdSeq = 17, SyainCd = "2000010004", HolidayID = 0, BranchID = 1, CompanyID = 1, JobID = 0, WorkID = 0, TenkoNo ="0017"});
        ListStaff.Add(new StaffData { SyokumuCdSeq = 2, SyokumuNm = "内勤１2", SyainNm = "リー", SyainCdSeq = 18, SyainCd = "2000010003", HolidayID = 0, BranchID = 1, CompanyID = 1, JobID = 0, WorkID = 0, TenkoNo ="0018"});
        ListStaff.Add(new StaffData { SyokumuCdSeq = 1, SyokumuNm = "内勤13", SyainNm = "アン", SyainCdSeq = 19, SyainCd = "2000010004", HolidayID = 0, BranchID = 1, CompanyID = 1, JobID = 0, WorkID = 0, TenkoNo ="0019"});
        ListStaff.Add(new StaffData { SyokumuCdSeq = 2, SyokumuNm = "内勤14", SyainNm = "タイ", SyainCdSeq = 20, SyainCd = "2000010005", HolidayID = 0, BranchID = 1, CompanyID = 1, JobID = 0, WorkID = 0, TenkoNo ="0020"});
        ListStaff.Add(new StaffData { SyokumuCdSeq = 1, SyokumuNm = "内勤15", SyainNm = "リー", SyainCdSeq = 21, SyainCd = "2000010003", HolidayID = 0, BranchID = 1, CompanyID = 1, JobID = 0, WorkID = 0, TenkoNo ="0021"});
        ListStaff.Add(new StaffData { SyokumuCdSeq = 2, SyokumuNm = "内勤16", SyainNm = "アン", SyainCdSeq = 22, SyainCd = "2000010004", HolidayID = 0, BranchID = 1, CompanyID = 1, JobID = 0, WorkID = 0, TenkoNo ="0022"});
        ListStaff.Add(new StaffData { SyokumuCdSeq = 1, SyokumuNm = "内勤17", SyainNm = "リー", SyainCdSeq = 23, SyainCd = "2000010003", HolidayID = 0, BranchID = 1, CompanyID = 1, JobID = 0, WorkID = 0, TenkoNo ="0023"});
        ListStaff.Add(new StaffData { SyokumuCdSeq = 2, SyokumuNm = "内勤18", SyainNm = "アン", SyainCdSeq = 24, SyainCd = "2000010004", HolidayID = 0, BranchID = 1, CompanyID = 1, JobID = 0, WorkID = 0, TenkoNo ="0024"});
        ListStaff.Add(new StaffData { SyokumuCdSeq = 1, SyokumuNm = "内勤19", SyainNm = "タイ", SyainCdSeq = 25, SyainCd = "2000010005", HolidayID = 0, BranchID = 1, CompanyID = 1, JobID = 0, WorkID = 0, TenkoNo ="0026"});
        ListStaff.Add(new StaffData { SyokumuCdSeq = 2, SyokumuNm = "内勤20", SyainNm = "タイ", SyainCdSeq = 26, SyainCd = "2000010005", HolidayID = 0, BranchID = 1, CompanyID = 1, JobID = 0, WorkID = 0, TenkoNo ="0026"});
        //Absense2
        ListStaff.Add(new StaffData { SyokumuCdSeq = 1, SyokumuNm = "内勤21", SyainNm = "野村義男", SyainCdSeq = 27, SyainCd = "0000010006", HolidayID = 1, DayOff = d, BranchID = 1, CompanyID = 1, JobID = 0, WorkID = 0, TenkoNo ="0027"});
        ListStaff.Add(new StaffData { SyokumuCdSeq = 2, SyokumuNm = "内勤22", SyainNm = "木村拓哉", SyainCdSeq = 28, SyainCd = "0000010007", HolidayID = 2, DayOff = d, BranchID = 1, CompanyID = 1, JobID = 0, WorkID = 0, TenkoNo ="0028"});
        ListStaff.Add(new StaffData { SyokumuCdSeq = 1, SyokumuNm = "内勤23", SyainNm = "香取慎吾", SyainCdSeq = 29, SyainCd = "0000010008", HolidayID = 3, DayOff = d, BranchID = 1, CompanyID = 1, JobID = 0, WorkID = 0, TenkoNo ="0029"});
        ListStaff.Add(new StaffData { SyokumuCdSeq = 2, SyokumuNm = "内勤24", SyainNm = "野村義男", SyainCdSeq = 30, SyainCd = "0000010006", HolidayID = 4, DayOff = d, BranchID = 1, CompanyID = 1, JobID = 0, WorkID = 0, TenkoNo ="0030"});
        ListStaff.Add(new StaffData { SyokumuCdSeq = 1, SyokumuNm = "内勤25", SyainNm = "木村拓哉", SyainCdSeq = 31, SyainCd = "0000010007", HolidayID = 6, DayOff = d, BranchID = 1, CompanyID = 1, JobID = 0, WorkID = 0, TenkoNo ="0031"});
        ListStaff.Add(new StaffData { SyokumuCdSeq = 2, SyokumuNm = "内勤26", SyainNm = "香取慎吾", SyainCdSeq = 32, SyainCd = "0000010008", HolidayID = 1, DayOff = d, BranchID = 1, CompanyID = 1, JobID = 0, WorkID = 0, TenkoNo ="0032"});
        ListStaff.Add(new StaffData { SyokumuCdSeq = 1, SyokumuNm = "内勤27", SyainNm = "野村義男", SyainCdSeq = 33, SyainCd = "0000010006", HolidayID = 2, DayOff = d, BranchID = 1, CompanyID = 1, JobID = 0, WorkID = 0, TenkoNo ="0033"});
        ListStaff.Add(new StaffData { SyokumuCdSeq = 2, SyokumuNm = "内勤28", SyainNm = "木村拓哉", SyainCdSeq = 34, SyainCd = "0000010007", HolidayID = 3, DayOff = d, BranchID = 1, CompanyID = 1, JobID = 0, WorkID = 0, TenkoNo ="0034"});
        ListStaff.Add(new StaffData { SyokumuCdSeq = 1, SyokumuNm = "内勤29", SyainNm = "香取慎吾", SyainCdSeq = 35, SyainCd = "0000010008", HolidayID = 4, DayOff = d, BranchID = 1, CompanyID = 1, JobID = 0, WorkID = 0, TenkoNo ="0035"});
        ListStaff.Add(new StaffData { SyokumuCdSeq = 2, SyokumuNm = "内勤３0", SyainNm = "野村義男", SyainCdSeq = 36, SyainCd = "0000010006", HolidayID = 6, DayOff = d, BranchID = 1, CompanyID = 1, JobID = 0, WorkID = 0, TenkoNo ="0036"});
        ListStaff.Add(new StaffData { SyokumuCdSeq = 1, SyokumuNm = "内勤31", SyainNm = "木村拓哉", SyainCdSeq = 37, SyainCd = "0000010007", HolidayID = 6, DayOff = d, BranchID = 1, CompanyID = 1, JobID = 0, WorkID = 0, TenkoNo ="0037"});
        ListStaff.Add(new StaffData { SyokumuCdSeq = 2, SyokumuNm = "内勤32", SyainNm = "香取慎吾", SyainCdSeq = 38, SyainCd = "0000010008", HolidayID = 4, DayOff = d, BranchID = 1, CompanyID = 1, JobID = 0, WorkID = 0, TenkoNo ="0038"});
        ListStaff.Add(new StaffData { SyokumuCdSeq = 1, SyokumuNm = "内勤33", SyainNm = "野村義男", SyainCdSeq = 39, SyainCd = "0000010006", HolidayID = 3, DayOff = d, BranchID = 1, CompanyID = 1, JobID = 0, WorkID = 0, TenkoNo ="0039"});
        ListStaff.Add(new StaffData { SyokumuCdSeq = 2, SyokumuNm = "内勤34", SyainNm = "木村拓哉", SyainCdSeq = 40, SyainCd = "0000010007", HolidayID = 2, DayOff = d, BranchID = 1, CompanyID = 1, JobID = 0, WorkID = 0, TenkoNo ="0040"});
        ListStaff.Add(new StaffData { SyokumuCdSeq = 1, SyokumuNm = "内勤35", SyainNm = "香取慎吾", SyainCdSeq = 41, SyainCd = "0000010008", HolidayID = 1, DayOff = d, BranchID = 1, CompanyID = 1, JobID = 0, WorkID = 0, TenkoNo ="0041"});
        ListStaff.Add(new StaffData { SyokumuCdSeq = 2, SyokumuNm = "内勤36", SyainNm = "野村義男", SyainCdSeq = 42, SyainCd = "0000010006", HolidayID = 1, DayOff = d, BranchID = 1, CompanyID = 1, JobID = 0, WorkID = 0, TenkoNo ="0042"});
        ListStaff.Add(new StaffData { SyokumuCdSeq = 1, SyokumuNm = "内勤37", SyainNm = "木村拓哉", SyainCdSeq = 43, SyainCd = "0000010007", HolidayID = 2, DayOff = d, BranchID = 1, CompanyID = 1, JobID = 0, WorkID = 0, TenkoNo ="0043"});
        ListStaff.Add(new StaffData { SyokumuCdSeq = 2, SyokumuNm = "内勤38", SyainNm = "香取慎吾", SyainCdSeq = 44, SyainCd = "0000010008", HolidayID = 3, DayOff = d, BranchID = 1, CompanyID = 1, JobID = 0, WorkID = 0, TenkoNo ="0044"});
        // NotToDo Guide
        ListStaff.Add(new StaffData { SyokumuCdSeq = 3, SyokumuNm = "運転手", SyainNm = "中居正広", SyainCdSeq = 45, SyainCd = "0000010009", HolidayID = 0, DayOff = null, BranchID = 1, CompanyID = 1, JobID = 0, WorkID = 0, TenkoNo ="0010"});
        ListStaff.Add(new StaffData { SyokumuCdSeq = 4, SyokumuNm = "契約運転手", SyainNm = "リム", SyainCdSeq = 46, SyainCd = "2000000001", HolidayID = 0, DayOff = null, BranchID = 1, CompanyID = 1, JobID = 0, WorkID = 0, TenkoNo ="0011"});
        ListStaff.Add(new StaffData { SyokumuCdSeq = 3, SyokumuNm = "運転手", SyainNm = "タイ", SyainCdSeq = 47, SyainCd = "2000010005", HolidayID = 0, BranchID = 1, CompanyID = 1, JobID = 0, WorkID = 0, TenkoNo ="0016"});
        ListStaff.Add(new StaffData { SyokumuCdSeq = 4, SyokumuNm = "契約運転手", SyainNm = "リム", SyainCdSeq = 48, SyainCd = "2000000001", HolidayID = 0, BranchID = 1, CompanyID = 1, JobID = 0, WorkID = 0, TenkoNo ="0017"});
        ListStaff.Add(new StaffData { SyokumuCdSeq = 3, SyokumuNm = "運転手", SyainNm = "中居正広", SyainCdSeq = 49, SyainCd = "0000010009", HolidayID = 0, DayOff = null, BranchID = 1, CompanyID = 1, JobID = 0, WorkID = 0, TenkoNo ="0010"});
        ListStaff.Add(new StaffData { SyokumuCdSeq = 4, SyokumuNm = "契約運転手", SyainNm = "リム", SyainCdSeq = 50, SyainCd = "2000000001", HolidayID = 0, DayOff = null, BranchID = 1, CompanyID = 1, JobID = 0, WorkID = 0, TenkoNo ="0011"});
        ListStaff.Add(new StaffData { SyokumuCdSeq = 3, SyokumuNm = "運転手", SyainNm = "タイ", SyainCdSeq = 51, SyainCd = "2000010005", HolidayID = 0, BranchID = 1, CompanyID = 1, JobID = 0, WorkID = 0, TenkoNo ="0016"});
        ListStaff.Add(new StaffData { SyokumuCdSeq = 4, SyokumuNm = "契約運転手", SyainNm = "リム", SyainCdSeq = 52, SyainCd = "2000000001", HolidayID = 0, BranchID = 1, CompanyID = 1, JobID = 0, WorkID = 0, TenkoNo ="0017"});
        ListStaff.Add(new StaffData { SyokumuCdSeq = 3, SyokumuNm = "運転手", SyainNm = "中居正広", SyainCdSeq = 53, SyainCd = "0000010009", HolidayID = 0, DayOff = null, BranchID = 1, CompanyID = 1, JobID = 0, WorkID = 0, TenkoNo ="0010"});
        ListStaff.Add(new StaffData { SyokumuCdSeq = 4, SyokumuNm = "契約運転手", SyainNm = "リム", SyainCdSeq = 54, SyainCd = "2000000001", HolidayID = 0, DayOff = null, BranchID = 1, CompanyID = 1, JobID = 0, WorkID = 0, TenkoNo ="0011"});
        ListStaff.Add(new StaffData { SyokumuCdSeq = 3, SyokumuNm = "運転手", SyainNm = "タイ", SyainCdSeq = 55, SyainCd = "2000010005", HolidayID = 0, BranchID = 1, CompanyID = 1, JobID = 0, WorkID = 0, TenkoNo ="0016"});
        ListStaff.Add(new StaffData { SyokumuCdSeq = 4, SyokumuNm = "契約運転手", SyainNm = "リム", SyainCdSeq = 56, SyainCd = "2000000001", HolidayID = 0, BranchID = 1, CompanyID = 1, JobID = 0, WorkID = 0, TenkoNo ="0017"});
        ListStaff.Add(new StaffData { SyokumuCdSeq = 3, SyokumuNm = "ガイド", SyainNm = "ズイ", SyainCdSeq = 57, SyainCd = "2000010001", HolidayID = 0, BranchID = 1, CompanyID = 1, JobID = 0, WorkID = 0, TenkoNo ="0012"});
        ListStaff.Add(new StaffData { SyokumuCdSeq = 4, SyokumuNm = "契約ガイド", SyainNm = "トン", SyainCdSeq = 58, SyainCd = "2000010002", HolidayID = 0, BranchID = 1, CompanyID = 1, JobID = 0, WorkID = 0, TenkoNo ="0013"});
        ListStaff.Add(new StaffData { SyokumuCdSeq = 3, SyokumuNm = "ガイド", SyainNm = "ズイ", SyainCdSeq = 59, SyainCd = "2000010001", HolidayID = 0, BranchID = 1, CompanyID = 1, JobID = 0, WorkID = 0, TenkoNo ="0018"});
        ListStaff.Add(new StaffData { SyokumuCdSeq = 4, SyokumuNm = "契約ガイド", SyainNm = "トン", SyainCdSeq = 60, SyainCd = "2000010002", HolidayID = 0, BranchID = 1, CompanyID = 1, JobID = 0, WorkID = 0, TenkoNo ="0019"});
        // NotToDo BO
        ListStaff.Add(new StaffData { SyokumuCdSeq = 5, SyokumuNm = "運転手", SyainNm = "中居正広", SyainCdSeq = 61, SyainCd = "0000010009", HolidayID = 0, DayOff = null, BranchID = 1, CompanyID = 1, JobID = 0, WorkID = 0, TenkoNo ="0010"});
        ListStaff.Add(new StaffData { SyokumuCdSeq = 6, SyokumuNm = "契約運転手", SyainNm = "リム", SyainCdSeq = 62, SyainCd = "2000000001", HolidayID = 0, DayOff = null, BranchID = 1, CompanyID = 1, JobID = 0, WorkID = 0, TenkoNo ="0011"});
        ListStaff.Add(new StaffData { SyokumuCdSeq = 7, SyokumuNm = "運転手", SyainNm = "タイ", SyainCdSeq = 63, SyainCd = "2000010005", HolidayID = 0, BranchID = 1, CompanyID = 1, JobID = 0, WorkID = 0, TenkoNo ="0016"});
        ListStaff.Add(new StaffData { SyokumuCdSeq = 8, SyokumuNm = "契約運転手", SyainNm = "リム", SyainCdSeq = 64, SyainCd = "2000000001", HolidayID = 0, BranchID = 1, CompanyID = 1, JobID = 0, WorkID = 0, TenkoNo ="0017"});
        ListStaff.Add(new StaffData { SyokumuCdSeq = 9, SyokumuNm = "運転手", SyainNm = "中居正広", SyainCdSeq = 65, SyainCd = "0000010009", HolidayID = 0, DayOff = null, BranchID = 1, CompanyID = 1, JobID = 0, WorkID = 0, TenkoNo ="0010"});
        ListStaff.Add(new StaffData { SyokumuCdSeq = 5, SyokumuNm = "契約運転手", SyainNm = "リム", SyainCdSeq = 66, SyainCd = "2000000001", HolidayID = 0, DayOff = null, BranchID = 1, CompanyID = 1, JobID = 0, WorkID = 0, TenkoNo ="0011"});
        ListStaff.Add(new StaffData { SyokumuCdSeq = 6, SyokumuNm = "運転手", SyainNm = "タイ", SyainCdSeq = 67, SyainCd = "2000010005", HolidayID = 0, BranchID = 1, CompanyID = 1, JobID = 0, WorkID = 0, TenkoNo ="0016"});
        ListStaff.Add(new StaffData { SyokumuCdSeq = 7, SyokumuNm = "契約運転手", SyainNm = "リム", SyainCdSeq = 68, SyainCd = "2000000001", HolidayID = 0, BranchID = 1, CompanyID = 1, JobID = 0, WorkID = 0, TenkoNo ="0017"});
        ListStaff.Add(new StaffData { SyokumuCdSeq = 8, SyokumuNm = "運転手", SyainNm = "中居正広", SyainCdSeq = 69, SyainCd = "0000010009", HolidayID = 0, DayOff = null, BranchID = 1, CompanyID = 1, JobID = 0, WorkID = 0, TenkoNo ="0010"});
        ListStaff.Add(new StaffData { SyokumuCdSeq = 9, SyokumuNm = "契約運転手", SyainNm = "リム", SyainCdSeq = 70, SyainCd = "2000000001", HolidayID = 0, DayOff = null, BranchID = 1, CompanyID = 1, JobID = 0, WorkID = 0, TenkoNo ="0011"});
        ListStaff.Add(new StaffData { SyokumuCdSeq = 9, SyokumuNm = "運転手", SyainNm = "タイ", SyainCdSeq = 71, SyainCd = "2000010005", HolidayID = 0, BranchID = 1, CompanyID = 1, JobID = 0, WorkID = 0, TenkoNo ="0016"});
        ListStaff.Add(new StaffData { SyokumuCdSeq = 8, SyokumuNm = "契約運転手", SyainNm = "リム", SyainCdSeq = 72, SyainCd = "2000000001", HolidayID = 0, BranchID = 1, CompanyID = 1, JobID = 0, WorkID = 0, TenkoNo ="0017"});
        ListStaff.Add(new StaffData { SyokumuCdSeq = 7, SyokumuNm = "ガイド", SyainNm = "ズイ", SyainCdSeq = 73, SyainCd = "2000010001", HolidayID = 0, BranchID = 1, CompanyID = 1, JobID = 0, WorkID = 0, TenkoNo ="0012"});
        ListStaff.Add(new StaffData { SyokumuCdSeq = 6, SyokumuNm = "契約ガイド", SyainNm = "トン", SyainCdSeq = 74, SyainCd = "2000010002", HolidayID = 0, BranchID = 1, CompanyID = 1, JobID = 0, WorkID = 0, TenkoNo ="0013"});
        ListStaff.Add(new StaffData { SyokumuCdSeq = 5, SyokumuNm = "ガイド", SyainNm = "ズイ", SyainCdSeq = 77, SyainCd = "2000010001", HolidayID = 0, BranchID = 1, CompanyID = 1, JobID = 0, WorkID = 0, TenkoNo ="0018"});

        ListJobs = new List<JobData>();
        ListJobs.Add(new JobData { JobID = 1, JobName = "富士山IT", StaffID = 1, StartDate = d, EndDate = dnext, TimeStart = 0900, TimeEnd = 1200, ColorLine = "color-2", });
        ListJobs.Add(new JobData { JobID = 2, JobName = "平日温泉旅行", StaffID = 2, StartDate = d, EndDate = d, TimeStart = 1000, TimeEnd = 1500, ColorLine = "color-2", });
        ListJobs.Add(new JobData { JobID = 3, JobName = "HTV社内旅", StaffID = 3, StartDate = d, EndDate = dnext, TimeStart = 0600, TimeEnd = 1900, ColorLine = "color-4", });
        ListJobs.Add(new JobData { JobID = 4, JobName = "団体ツアー", StaffID = 4, StartDate = d, EndDate = dnext, TimeStart = 1300, TimeEnd = 2200, ColorLine = "color-6", });
        ListJobs.Add(new JobData { JobID = 5, JobName = "富士山IT", StaffID = 5, StartDate = d, EndDate = dnext, TimeStart = 0300, TimeEnd = 1600, ColorLine = "color-5", });
        ListJobs.Add(new JobData { JobID = 6, JobName = "団体ツアー", StaffID = 6, StartDate = d, EndDate = d, TimeStart = 0030, TimeEnd = 1930, ColorLine = "color-4", });

        ListJobs.Add(new JobData { JobID = 7, JobName = "団体名A", StaffID = 0, StartDate = d, EndDate = dnext, TimeStart = 0030, TimeEnd = 1730, ColorLine = "color-2", });
        ListJobs.Add(new JobData { JobID = 8, JobName = "団体名B", StaffID = 0, StartDate = d, EndDate = d, TimeStart = 0630, TimeEnd = 1930, ColorLine = "color-4", });
        ListJobs.Add(new JobData { JobID = 9, JobName = "団体名C", StaffID = 0, StartDate = d, EndDate = d, TimeStart = 0430, TimeEnd = 2330, ColorLine = "color-5", });
        ListJobs.Add(new JobData { JobID = 10, JobName = "団体名D", StaffID = 0, StartDate = d, EndDate = dnext, TimeStart = 1030, TimeEnd = 2030, ColorLine = "color-6", });
        ListJobs.Add(new JobData { JobID = 11, JobName = "団体名E", StaffID = 0, StartDate = d, EndDate = dnext, TimeStart = 0030, TimeEnd = 1730, ColorLine = "color-2", });
        ListJobs.Add(new JobData { JobID = 12, JobName = "団体名F", StaffID = 0, StartDate = d, EndDate = d, TimeStart = 0630, TimeEnd = 1930, ColorLine = "color-4", });
        ListJobs.Add(new JobData { JobID = 13, JobName = "団体名G", StaffID = 0, StartDate = d, EndDate = d, TimeStart = 0430, TimeEnd = 2330, ColorLine = "color-5", });
        ListJobs.Add(new JobData { JobID = 14, JobName = "団体名H", StaffID = 0, StartDate = d, EndDate = dnext, TimeStart = 1030, TimeEnd = 2030, ColorLine = "color-6", });
        ListJobs.Add(new JobData { JobID = 15, JobName = "団体名I", StaffID = 0, StartDate = d, EndDate = dnext, TimeStart = 0030, TimeEnd = 1730, ColorLine = "color-2", });
        ListJobs.Add(new JobData { JobID = 16, JobName = "団体名K", StaffID = 0, StartDate = d, EndDate = d, TimeStart = 0630, TimeEnd = 1930, ColorLine = "color-4", });
        ListJobs.Add(new JobData { JobID = 17, JobName = "団体名L", StaffID = 0, StartDate = d, EndDate = d, TimeStart = 0430, TimeEnd = 2330, ColorLine = "color-5", });
        ListJobs.Add(new JobData { JobID = 18, JobName = "団体名M", StaffID = 0, StartDate = d, EndDate = dnext, TimeStart = 1030, TimeEnd = 2030, ColorLine = "color-6", });
        ListJobs.Add(new JobData { JobID = 19, JobName = "団体名N", StaffID = 0, StartDate = d, EndDate = dnext, TimeStart = 0030, TimeEnd = 1730, ColorLine = "color-2", });
        ListJobs.Add(new JobData { JobID = 20, JobName = "団体名O", StaffID = 0, StartDate = d, EndDate = d, TimeStart = 0630, TimeEnd = 1930, ColorLine = "color-4", });
        ListJobs.Add(new JobData { JobID = 21, JobName = "団体名P", StaffID = 0, StartDate = d, EndDate = d, TimeStart = 0430, TimeEnd = 2330, ColorLine = "color-5", });
        ListJobs.Add(new JobData { JobID = 22, JobName = "団体名Q", StaffID = 0, StartDate = d, EndDate = dnext, TimeStart = 1030, TimeEnd = 2030, ColorLine = "color-6", });

        ListHoliday = new List<HolidayData>();
        ListHoliday.Add(new HolidayData { HolidayID = 1, HolidayNm = "公休", });
        ListHoliday.Add(new HolidayData { HolidayID = 2, HolidayNm = "有休", });
        ListHoliday.Add(new HolidayData { HolidayID = 3, HolidayNm = "欠勤", });
        ListHoliday.Add(new HolidayData { HolidayID = 4, HolidayNm = "休日", });
        ListHoliday.Add(new HolidayData { HolidayID = 6, HolidayNm = "振休", });

        ListWork = new List<WorkData>();
        ListWork.Add(new WorkData { WorkID = 10, WorkNm = "出勤", });
        ListWork.Add(new WorkData { WorkID = 11, WorkNm = "公休出勤", });

        lstBranchType = new List<BusCompanyType>();
        lstBranchType.Add(new BusCompanyType { BusBranchID = 1, BusBranchName = "工房" });
        lstBranchType.Add(new BusCompanyType { BusBranchID = 2, BusBranchName = "関西" });

        lstCompanyType = new List<BusCompanyType>();
        lstCompanyType.Add(new BusCompanyType { BusCompanyID = 1, BusCompanyName = "株式会社工房" });
        lstCompanyType.Add(new BusCompanyType { BusCompanyID = 2, BusCompanyName = "HTV" });

        isLoading = true;
        await Task.Run(() =>
        {
            Loadpage().Wait();
            isLoading = false;
        });
        StateHasChanged();
    }

    protected override async Task OnAfterRenderAsync(bool firstRender)
    {
        await JSRuntime.InvokeVoidAsync("scroll");
        await JSRuntime.InvokeVoidAsync("loadPageScript", "staffPage", "setHeightTopGrid");
        if (firstRender)
        {
            Width = (double)await BrowserResizeService.GetInnerWidthStaff();
            BrowserResizeService.OnResize += BrowserHasResized;
            await JSRuntime.InvokeAsync<object>("browserResize.registerResizeCallback");
            BrowserResizeService.OnCallbackWidth += BrowserHasCallbackWidth;
            await JSRuntime.InvokeAsync<object>("browserResize.registerWidthCallback");
            StateHasChanged();
        }
    }

    private async Task BrowserHasResized()
    {
        Width = (double)await BrowserResizeService.GetInnerWidthStaff();
        StateHasChanged();
    }

    private async Task BrowserHasCallbackWidth()
    {
        Width = (double)await BrowserResizeService.GetCallbackInnerWidthStaff();
        StateHasChanged();
    }

    public void Dispose()
    {
        BrowserResizeService.OnResize -= BrowserHasResized;
        BrowserResizeService.OnCallbackWidth -= BrowserHasCallbackWidth;
    }

    void HandleStatusUpdated(StaffData updatedStaff)
    {
        if (updatedStaff.Status == Flag.Todo && updatedStaff.HolidayID != 0)
        {
            if (updatedStaff.HolidayID == 1)
            {
                updatedStaff.WorkID = 11;
            }
            else
            {
                updatedStaff.WorkID = 10;
            }
            foreach (var i in ListWork)
            {
                if (updatedStaff.WorkID == i.WorkID)
                {
                    updatedStaff.WorkNm = i.WorkNm;
                }
            }
        }

        for (var i = 0; i < ListStaff.Count(); i++)
        {
            if (ListStaff[i].SyainCdSeq == updatedStaff.SyainCdSeq)
            {
                ListStaff[i] = updatedStaff;
            }
        }

        for (var i = 0; i < ListJobs.Count(); i++)
        {
            if (ListJobs[i].JobID == updatedStaff.JobID)
            {
                ListJobs[i].IsDoing = true;
            }
        }
    }

    void HandleStatusSwaped(JobData swapJob)
    {
        for (var i = 0; i < ListJobs.Count(); i++)
        {
            if (ListJobs[i].JobID == swapJob.JobID) {
                ListJobs[i] = swapJob;
            }
        }
    }

    private async Task HandleClickMenu(ItemClickEventArgs e)
    {
        if (e.Data != null)
        {
            var currentJob = e.Data as JobData;
            for (var i = 0; i < ListStaff.Count(); i++)
            {
                if (ListStaff[i].JobID == currentJob.JobID)
                {
                    ListStaff[i].JobID = 0;
                }
            }

            for (var i = 0; i < ListJobs.Count(); i++)
            {
                if (ListJobs[i].JobID == currentJob.JobID)
                {
                    ListJobs[i].IsDoing = false;
                    ListJobs[i].StaffID = 0;
                }
            }
        }
        isLoading = true;
        await Task.Run(() =>
        {
            Loadpage().Wait();
            isLoading = false;
        });
        StateHasChanged();
    }

#line default
#line hidden
#nullable disable
        [global::Microsoft.AspNetCore.Components.InjectAttribute] private IStringLocalizer<Staff> Lang { get; set; }
        [global::Microsoft.AspNetCore.Components.InjectAttribute] private IJSRuntime JSRuntime { get; set; }
        [global::Microsoft.AspNetCore.Components.InjectAttribute] private BusScheduleHelper BusScheduleHelper { get; set; }
        [global::Microsoft.AspNetCore.Components.InjectAttribute] private BrowserResizeService BrowserResizeService { get; set; }
    }
}
#pragma warning restore 1591
