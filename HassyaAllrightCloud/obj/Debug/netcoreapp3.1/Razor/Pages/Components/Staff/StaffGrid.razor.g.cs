#pragma checksum "E:\Project\HassyaAllrightCloud\Pages\Components\Staff\StaffGrid.razor" "{ff1816ec-aa5e-4d10-87f7-6f4963833460}" "0692eda302af6f2655b8b14c1a6eac57b6286193"
// <auto-generated/>
#pragma warning disable 1591
namespace HassyaAllrightCloud.Pages.Components.Staff
{
    #line hidden
    using System;
    using System.Collections.Generic;
    using System.Threading.Tasks;
    using Microsoft.AspNetCore.Components;
#nullable restore
#line 1 "E:\Project\HassyaAllrightCloud\_Imports.razor"
using System.Net.Http;

#line default
#line hidden
#nullable disable
#nullable restore
#line 2 "E:\Project\HassyaAllrightCloud\_Imports.razor"
using Microsoft.AspNetCore.Authorization;

#line default
#line hidden
#nullable disable
#nullable restore
#line 3 "E:\Project\HassyaAllrightCloud\_Imports.razor"
using Microsoft.AspNetCore.Components.Authorization;

#line default
#line hidden
#nullable disable
#nullable restore
#line 4 "E:\Project\HassyaAllrightCloud\_Imports.razor"
using Microsoft.AspNetCore.Components.Forms;

#line default
#line hidden
#nullable disable
#nullable restore
#line 5 "E:\Project\HassyaAllrightCloud\_Imports.razor"
using Microsoft.AspNetCore.Components.Routing;

#line default
#line hidden
#nullable disable
#nullable restore
#line 6 "E:\Project\HassyaAllrightCloud\_Imports.razor"
using Microsoft.AspNetCore.Components.Web;

#line default
#line hidden
#nullable disable
#nullable restore
#line 7 "E:\Project\HassyaAllrightCloud\_Imports.razor"
using System.Globalization;

#line default
#line hidden
#nullable disable
#nullable restore
#line 8 "E:\Project\HassyaAllrightCloud\_Imports.razor"
using Microsoft.JSInterop;

#line default
#line hidden
#nullable disable
#nullable restore
#line 9 "E:\Project\HassyaAllrightCloud\_Imports.razor"
using HassyaAllrightCloud;

#line default
#line hidden
#nullable disable
#nullable restore
#line 10 "E:\Project\HassyaAllrightCloud\_Imports.razor"
using HassyaAllrightCloud.Infrastructure.Services;

#line default
#line hidden
#nullable disable
#nullable restore
#line 11 "E:\Project\HassyaAllrightCloud\_Imports.razor"
using HassyaAllrightCloud.Shared;

#line default
#line hidden
#nullable disable
#nullable restore
#line 12 "E:\Project\HassyaAllrightCloud\_Imports.razor"
using HassyaAllrightCloud.Routing;

#line default
#line hidden
#nullable disable
#nullable restore
#line 13 "E:\Project\HassyaAllrightCloud\_Imports.razor"
using HassyaAllrightCloud.Domain.Entities;

#line default
#line hidden
#nullable disable
#nullable restore
#line 14 "E:\Project\HassyaAllrightCloud\_Imports.razor"
using HassyaAllrightCloud.Domain.Dto;

#line default
#line hidden
#nullable disable
#nullable restore
#line 15 "E:\Project\HassyaAllrightCloud\_Imports.razor"
using HassyaAllrightCloud.Commons.Helpers;

#line default
#line hidden
#nullable disable
#nullable restore
#line 16 "E:\Project\HassyaAllrightCloud\_Imports.razor"
using HassyaAllrightCloud.Commons.Constants;

#line default
#line hidden
#nullable disable
#nullable restore
#line 17 "E:\Project\HassyaAllrightCloud\_Imports.razor"
using HassyaAllrightCloud.Commons.Extensions;

#line default
#line hidden
#nullable disable
#nullable restore
#line 18 "E:\Project\HassyaAllrightCloud\_Imports.razor"
using BlazorContextMenu;

#line default
#line hidden
#nullable disable
#nullable restore
#line 19 "E:\Project\HassyaAllrightCloud\_Imports.razor"
using HassyaAllrightCloud.Application.Validation;

#line default
#line hidden
#nullable disable
#nullable restore
#line 20 "E:\Project\HassyaAllrightCloud\_Imports.razor"
using HassyaAllrightCloud.Validation;

#line default
#line hidden
#nullable disable
#nullable restore
#line 21 "E:\Project\HassyaAllrightCloud\_Imports.razor"
using DevExpress.Blazor;

#line default
#line hidden
#nullable disable
#nullable restore
#line 22 "E:\Project\HassyaAllrightCloud\_Imports.razor"
using System.Linq;

#line default
#line hidden
#nullable disable
#nullable restore
#line 23 "E:\Project\HassyaAllrightCloud\_Imports.razor"
using Newtonsoft.Json;

#line default
#line hidden
#nullable disable
#nullable restore
#line 24 "E:\Project\HassyaAllrightCloud\_Imports.razor"
using Newtonsoft.Json.Linq;

#line default
#line hidden
#nullable disable
#nullable restore
#line 25 "E:\Project\HassyaAllrightCloud\_Imports.razor"
using Microsoft.Extensions.Localization;

#line default
#line hidden
#nullable disable
#nullable restore
#line 26 "E:\Project\HassyaAllrightCloud\_Imports.razor"
using HassyaAllrightCloud.IService;

#line default
#line hidden
#nullable disable
#nullable restore
#line 27 "E:\Project\HassyaAllrightCloud\_Imports.razor"
using System.IO;

#line default
#line hidden
#nullable disable
#nullable restore
#line 28 "E:\Project\HassyaAllrightCloud\_Imports.razor"
using LexLibrary.Line.NotifyBot.Models;

#line default
#line hidden
#nullable disable
#nullable restore
#line 29 "E:\Project\HassyaAllrightCloud\_Imports.razor"
using LexLibrary.Line.NotifyBot;

#line default
#line hidden
#nullable disable
#nullable restore
#line 30 "E:\Project\HassyaAllrightCloud\_Imports.razor"
using DevExpress.Blazor.Reporting;

#line default
#line hidden
#nullable disable
#nullable restore
#line 31 "E:\Project\HassyaAllrightCloud\_Imports.razor"
using HassyaAllrightCloud.Pages.Components;

#line default
#line hidden
#nullable disable
#nullable restore
#line 32 "E:\Project\HassyaAllrightCloud\_Imports.razor"
using SharedLibraries.UI.Components;

#line default
#line hidden
#nullable disable
#nullable restore
#line 33 "E:\Project\HassyaAllrightCloud\_Imports.razor"
using Blazored.Modal;

#line default
#line hidden
#nullable disable
#nullable restore
#line 34 "E:\Project\HassyaAllrightCloud\_Imports.razor"
using Blazored.Modal.Services;

#line default
#line hidden
#nullable disable
#nullable restore
#line 35 "E:\Project\HassyaAllrightCloud\_Imports.razor"
using SharedLibraries.UI.Models;

#line default
#line hidden
#nullable disable
#nullable restore
#line 37 "E:\Project\HassyaAllrightCloud\_Imports.razor"
using Radzen;

#line default
#line hidden
#nullable disable
#nullable restore
#line 38 "E:\Project\HassyaAllrightCloud\_Imports.razor"
using Radzen.Blazor;

#line default
#line hidden
#nullable disable
#nullable restore
#line 39 "E:\Project\HassyaAllrightCloud\_Imports.razor"
using HassyaAllrightCloud.Pages.Components.CommonComponents;

#line default
#line hidden
#nullable disable
    public partial class StaffGrid : Microsoft.AspNetCore.Components.ComponentBase
    {
        #pragma warning disable 1998
        protected override void BuildRenderTree(Microsoft.AspNetCore.Components.Rendering.RenderTreeBuilder __builder)
        {
            __builder.OpenElement(0, "div");
            __builder.AddAttribute(1, "class", "busData" + " view-" + (
#nullable restore
#line 4 "E:\Project\HassyaAllrightCloud\Pages\Components\Staff\StaffGrid.razor"
                          Container.Params.View

#line default
#line hidden
#nullable disable
            ) + " mb-2");
            __builder.AddMarkupContent(2, "\r\n    ");
            __builder.OpenElement(3, "div");
            __builder.AddAttribute(4, "class", "busData-content busData-content--1");
            __builder.AddMarkupContent(5, "\r\n        ");
            __builder.OpenElement(6, "div");
            __builder.AddAttribute(7, "class", "busData-name");
            __builder.AddMarkupContent(8, "\r\n            <div class=\"topbar\"></div>\r\n            ");
            __builder.OpenElement(9, "div");
            __builder.AddMarkupContent(10, "\r\n");
#nullable restore
#line 9 "E:\Project\HassyaAllrightCloud\Pages\Components\Staff\StaffGrid.razor"
                 foreach (var staff in ListTmp)
                {
                    if (staff.WorkID != 0)
                    {

#line default
#line hidden
#nullable disable
            __builder.AddContent(11, "                        ");
            __builder.OpenElement(12, "div");
            __builder.AddAttribute(13, "style", "height:" + " " + (
#nullable restore
#line 13 "E:\Project\HassyaAllrightCloud\Pages\Components\Staff\StaffGrid.razor"
                                              staff.Height

#line default
#line hidden
#nullable disable
            ) + "rem;" + " color:" + " " + (
#nullable restore
#line 13 "E:\Project\HassyaAllrightCloud\Pages\Components\Staff\StaffGrid.razor"
                                                                        GetColor(staff)

#line default
#line hidden
#nullable disable
            ) + ";" + " background-color:" + " " + (
#nullable restore
#line 13 "E:\Project\HassyaAllrightCloud\Pages\Components\Staff\StaffGrid.razor"
                                                                                                            OnGetBackgroundColor(staff)

#line default
#line hidden
#nullable disable
            ));
            __builder.AddAttribute(14, "class", "busData-name__item isWork d-block");
            __builder.AddAttribute(15, "ondragover", 
#nullable restore
#line 14 "E:\Project\HassyaAllrightCloud\Pages\Components\Staff\StaffGrid.razor"
                                           IsPreventDefault() ? "event.preventDefault();" : string.Empty

#line default
#line hidden
#nullable disable
            );
            __builder.AddAttribute(16, "ondrop", Microsoft.AspNetCore.Components.EventCallback.Factory.Create<Microsoft.AspNetCore.Components.Web.DragEventArgs>(this, 
#nullable restore
#line 14 "E:\Project\HassyaAllrightCloud\Pages\Components\Staff\StaffGrid.razor"
                                                                                                                      () => HandleDropWork(staff)

#line default
#line hidden
#nullable disable
            ));
            __builder.AddAttribute(17, "onmouseenter", Microsoft.AspNetCore.Components.EventCallback.Factory.Create<System.EventArgs>(this, 
#nullable restore
#line 15 "E:\Project\HassyaAllrightCloud\Pages\Components\Staff\StaffGrid.razor"
                                              () => ShowToolTip(staff)

#line default
#line hidden
#nullable disable
            ));
            __builder.AddAttribute(18, "onmouseleave", Microsoft.AspNetCore.Components.EventCallback.Factory.Create<System.EventArgs>(this, 
#nullable restore
#line 15 "E:\Project\HassyaAllrightCloud\Pages\Components\Staff\StaffGrid.razor"
                                                                                          () => HideToolTip(staff)

#line default
#line hidden
#nullable disable
            ));
            __builder.AddMarkupContent(19, "\r\n                            ");
            __builder.OpenElement(20, "p");
            __builder.AddAttribute(21, "class", "mb-0");
            __builder.AddAttribute(22, "style", "text-overflow: ellipsis; overflow: hidden; white-space: nowrap;");
            __builder.AddContent(23, 
#nullable restore
#line 16 "E:\Project\HassyaAllrightCloud\Pages\Components\Staff\StaffGrid.razor"
                                                                                                                      staff.SyainCd + " " + staff.SyainNm + "／" + staff.SyokumuNm + GetName(staff, 0)

#line default
#line hidden
#nullable disable
            );
            __builder.CloseElement();
            __builder.AddMarkupContent(24, "\r\n");
#nullable restore
#line 17 "E:\Project\HassyaAllrightCloud\Pages\Components\Staff\StaffGrid.razor"
                             if(Container.Params.ShowTimeGrid == (int)ShowTime.IsShowTime && (staff.SyokumuKbn == 1 || staff.SyokumuKbn == 2 || staff.SyokumuKbn == 5))
                            {

#line default
#line hidden
#nullable disable
            __builder.AddContent(25, "                                ");
            __builder.OpenElement(26, "p");
            __builder.AddAttribute(27, "class", "mb-0 time-item");
            __builder.AddAttribute(28, "style", "font-size: 7px");
            __builder.AddContent(29, 
#nullable restore
#line 19 "E:\Project\HassyaAllrightCloud\Pages\Components\Staff\StaffGrid.razor"
                                                                                   $"{Lang["showtime_label"]}{Lang["onday"]}{GetTime(staff.Onday)}　{Lang["1weak"]}{GetTime(staff.WorkTime)}　{Lang["4weak"]}{GetTime(staff.WorkTime4Week)}、{Lang["rest_period"]}{GetTime(staff.DayBefore)}"

#line default
#line hidden
#nullable disable
            );
            __builder.CloseElement();
            __builder.AddMarkupContent(30, "\r\n");
#nullable restore
#line 20 "E:\Project\HassyaAllrightCloud\Pages\Components\Staff\StaffGrid.razor"
                            }

#line default
#line hidden
#nullable disable
#nullable restore
#line 21 "E:\Project\HassyaAllrightCloud\Pages\Components\Staff\StaffGrid.razor"
                             if (staff.isShowToolTip)
                            {

#line default
#line hidden
#nullable disable
            __builder.AddContent(31, "                                ");
            __builder.OpenComponent<HassyaAllrightCloud.Pages.Components.Staff.StaffToolTip>(32);
            __builder.AddAttribute(33, "staff", Microsoft.AspNetCore.Components.CompilerServices.RuntimeHelpers.TypeCheck<HassyaAllrightCloud.Domain.Dto.StaffData>(
#nullable restore
#line 23 "E:\Project\HassyaAllrightCloud\Pages\Components\Staff\StaffGrid.razor"
                                                     staff

#line default
#line hidden
#nullable disable
            ));
            __builder.AddAttribute(34, "CssClass", "tooltip-text");
            __builder.CloseComponent();
            __builder.AddMarkupContent(35, "\r\n");
#nullable restore
#line 24 "E:\Project\HassyaAllrightCloud\Pages\Components\Staff\StaffGrid.razor"
                            }

#line default
#line hidden
#nullable disable
            __builder.AddContent(36, "                        ");
            __builder.CloseElement();
            __builder.AddMarkupContent(37, "\r\n");
#nullable restore
#line 26 "E:\Project\HassyaAllrightCloud\Pages\Components\Staff\StaffGrid.razor"
                    }
                    else
                    {

#line default
#line hidden
#nullable disable
            __builder.AddContent(38, "                        ");
            __builder.OpenElement(39, "div");
            __builder.AddAttribute(40, "style", "height:" + " " + (
#nullable restore
#line 29 "E:\Project\HassyaAllrightCloud\Pages\Components\Staff\StaffGrid.razor"
                                              staff.Height

#line default
#line hidden
#nullable disable
            ) + "rem;" + " color:" + " " + (
#nullable restore
#line 29 "E:\Project\HassyaAllrightCloud\Pages\Components\Staff\StaffGrid.razor"
                                                                        GetColor(staff)

#line default
#line hidden
#nullable disable
            ) + ";" + " background-color:" + " " + (
#nullable restore
#line 29 "E:\Project\HassyaAllrightCloud\Pages\Components\Staff\StaffGrid.razor"
                                                                                                            OnGetBackgroundColor(staff)

#line default
#line hidden
#nullable disable
            ));
            __builder.AddAttribute(41, "class", "busData-name__item d-block mytooltip");
            __builder.AddAttribute(42, "ondragover", 
#nullable restore
#line 30 "E:\Project\HassyaAllrightCloud\Pages\Components\Staff\StaffGrid.razor"
                                           IsPreventDefault() ? "event.preventDefault();" : string.Empty

#line default
#line hidden
#nullable disable
            );
            __builder.AddAttribute(43, "ondrop", Microsoft.AspNetCore.Components.EventCallback.Factory.Create<Microsoft.AspNetCore.Components.Web.DragEventArgs>(this, 
#nullable restore
#line 30 "E:\Project\HassyaAllrightCloud\Pages\Components\Staff\StaffGrid.razor"
                                                                                                                      () => HandleDropWork(staff)

#line default
#line hidden
#nullable disable
            ));
            __builder.AddAttribute(44, "onmouseenter", Microsoft.AspNetCore.Components.EventCallback.Factory.Create<System.EventArgs>(this, 
#nullable restore
#line 31 "E:\Project\HassyaAllrightCloud\Pages\Components\Staff\StaffGrid.razor"
                                              () => ShowToolTip(staff)

#line default
#line hidden
#nullable disable
            ));
            __builder.AddAttribute(45, "onmouseleave", Microsoft.AspNetCore.Components.EventCallback.Factory.Create<System.EventArgs>(this, 
#nullable restore
#line 31 "E:\Project\HassyaAllrightCloud\Pages\Components\Staff\StaffGrid.razor"
                                                                                          () => HideToolTip(staff)

#line default
#line hidden
#nullable disable
            ));
            __builder.AddMarkupContent(46, "\r\n                            ");
            __builder.OpenElement(47, "p");
            __builder.AddAttribute(48, "class", "mb-0");
            __builder.AddAttribute(49, "style", "text-overflow: ellipsis; overflow: hidden; white-space: nowrap;");
            __builder.AddContent(50, 
#nullable restore
#line 32 "E:\Project\HassyaAllrightCloud\Pages\Components\Staff\StaffGrid.razor"
                                                                                                                      staff.SyainCd + " " + staff.SyainNm + "／" + staff.SyokumuNm + GetName(staff, 1)

#line default
#line hidden
#nullable disable
            );
            __builder.CloseElement();
            __builder.AddMarkupContent(51, "\r\n");
#nullable restore
#line 33 "E:\Project\HassyaAllrightCloud\Pages\Components\Staff\StaffGrid.razor"
                             if(Container.Params.ShowTimeGrid == (int)ShowTime.IsShowTime && (staff.SyokumuKbn == 1 || staff.SyokumuKbn == 2 || staff.SyokumuKbn == 5))
                            {

#line default
#line hidden
#nullable disable
            __builder.AddContent(52, "                                ");
            __builder.OpenElement(53, "p");
            __builder.AddAttribute(54, "class", "mb-0 time-item");
            __builder.AddAttribute(55, "style", "font-size: 7px");
            __builder.AddContent(56, 
#nullable restore
#line 35 "E:\Project\HassyaAllrightCloud\Pages\Components\Staff\StaffGrid.razor"
                                                                                   $"{Lang["showtime_label"]}{Lang["onday"]}{GetTime(staff.Onday)}　{Lang["1weak"]}{GetTime(staff.WorkTime)}　{Lang["4weak"]}{GetTime(staff.WorkTime4Week)}、{Lang["rest_period"]}{GetTime(staff.DayBefore)}"

#line default
#line hidden
#nullable disable
            );
            __builder.CloseElement();
            __builder.AddMarkupContent(57, "\r\n");
#nullable restore
#line 36 "E:\Project\HassyaAllrightCloud\Pages\Components\Staff\StaffGrid.razor"
                            }

#line default
#line hidden
#nullable disable
#nullable restore
#line 37 "E:\Project\HassyaAllrightCloud\Pages\Components\Staff\StaffGrid.razor"
                             if (staff.isShowToolTip)
                            {

#line default
#line hidden
#nullable disable
            __builder.AddContent(58, "                                ");
            __builder.OpenComponent<HassyaAllrightCloud.Pages.Components.Staff.StaffToolTip>(59);
            __builder.AddAttribute(60, "staff", Microsoft.AspNetCore.Components.CompilerServices.RuntimeHelpers.TypeCheck<HassyaAllrightCloud.Domain.Dto.StaffData>(
#nullable restore
#line 39 "E:\Project\HassyaAllrightCloud\Pages\Components\Staff\StaffGrid.razor"
                                                     staff

#line default
#line hidden
#nullable disable
            ));
            __builder.AddAttribute(61, "CssClass", "tooltip-text");
            __builder.CloseComponent();
            __builder.AddMarkupContent(62, "\r\n");
#nullable restore
#line 40 "E:\Project\HassyaAllrightCloud\Pages\Components\Staff\StaffGrid.razor"
                            }

#line default
#line hidden
#nullable disable
            __builder.AddContent(63, "                        ");
            __builder.CloseElement();
            __builder.AddMarkupContent(64, "\r\n");
#nullable restore
#line 42 "E:\Project\HassyaAllrightCloud\Pages\Components\Staff\StaffGrid.razor"
                    }
                    
                }

#line default
#line hidden
#nullable disable
            __builder.AddContent(65, "            ");
            __builder.CloseElement();
            __builder.AddMarkupContent(66, "\r\n        ");
            __builder.CloseElement();
            __builder.AddMarkupContent(67, "\r\n        ");
            __builder.OpenElement(68, "div");
            __builder.AddAttribute(69, "class", "busData-timeline" + " busData--" + (
#nullable restore
#line 47 "E:\Project\HassyaAllrightCloud\Pages\Components\Staff\StaffGrid.razor"
                                               Container.Params.Time

#line default
#line hidden
#nullable disable
            ));
            __builder.AddMarkupContent(70, "\r\n            ");
            __builder.OpenElement(71, "div");
            __builder.AddAttribute(72, "class", "listColumn clearfix");
            __builder.AddMarkupContent(73, "\r\n                ");
            __builder.OpenElement(74, "div");
            __builder.AddAttribute(75, "class", "listColumn__item");
            __builder.AddMarkupContent(76, "\r\n                    ");
            __builder.OpenElement(77, "div");
            __builder.AddAttribute(78, "class", "day" + " text-center" + " " + (
#nullable restore
#line 50 "E:\Project\HassyaAllrightCloud\Pages\Components\Staff\StaffGrid.razor"
                                                 Container.Date.DayOfWeek.ToString("G").ToLower()

#line default
#line hidden
#nullable disable
            ));
            __builder.AddMarkupContent(79, "\r\n                        ");
            __builder.OpenElement(80, "strong");
            __builder.AddContent(81, 
#nullable restore
#line 51 "E:\Project\HassyaAllrightCloud\Pages\Components\Staff\StaffGrid.razor"
                                 Container.Date.ToString("MM月dd日 (ddd)", ci)

#line default
#line hidden
#nullable disable
            );
            __builder.CloseElement();
            __builder.AddMarkupContent(82, "\r\n                        <span class=\"fa fa-pencil-square-o ml-1\" aria-hidden=\"true\"></span>\r\n                    ");
            __builder.CloseElement();
            __builder.AddMarkupContent(83, "\r\n                    ");
            __builder.OpenElement(84, "div");
            __builder.AddAttribute(85, "class", "description text-center");
            __builder.AddMarkupContent(86, "\r\n                        ");
            __builder.AddContent(87, 
#nullable restore
#line 55 "E:\Project\HassyaAllrightCloud\Pages\Components\Staff\StaffGrid.razor"
                         Lang["Empty"]

#line default
#line hidden
#nullable disable
            );
            __builder.AddContent(88, 
#nullable restore
#line 55 "E:\Project\HassyaAllrightCloud\Pages\Components\Staff\StaffGrid.razor"
                                        numberOfVehile - listVehicleAllocation.Count(_ => _.HaiSSryCdSeq > 0)

#line default
#line hidden
#nullable disable
            );
            __builder.AddMarkupContent(89, "台（");
            __builder.AddContent(90, 
#nullable restore
#line 55 "E:\Project\HassyaAllrightCloud\Pages\Components\Staff\StaffGrid.razor"
                                                                                                                  listVehicleAllocation.Count(_ => _.HaiSSryCdSeq > 0)

#line default
#line hidden
#nullable disable
            );
            __builder.AddContent(91, "/");
            __builder.AddContent(92, 
#nullable restore
#line 55 "E:\Project\HassyaAllrightCloud\Pages\Components\Staff\StaffGrid.razor"
                                                                                                                                                                          numberOfVehile

#line default
#line hidden
#nullable disable
            );
            __builder.AddMarkupContent(93, "）\r\n                        ");
            __builder.AddContent(94, 
#nullable restore
#line 56 "E:\Project\HassyaAllrightCloud\Pages\Components\Staff\StaffGrid.razor"
                         Lang["EmptyDriver"]

#line default
#line hidden
#nullable disable
            );
            __builder.AddContent(95, 
#nullable restore
#line 56 "E:\Project\HassyaAllrightCloud\Pages\Components\Staff\StaffGrid.razor"
                                              List.Count(_ => _.SyokumuKbn == 1 || _.SyokumuKbn == 2) - List.Count(_ => (_.SyokumuKbn == 1 || _.SyokumuKbn == 2) && _.Status == Flag.Todo)

#line default
#line hidden
#nullable disable
            );
            __builder.AddMarkupContent(96, "人（");
            __builder.AddContent(97, 
#nullable restore
#line 56 "E:\Project\HassyaAllrightCloud\Pages\Components\Staff\StaffGrid.razor"
                                                                                                                                                                                               List.Count(_ => (_.SyokumuKbn == 1 || _.SyokumuKbn == 2) && _.Status == Flag.Todo)

#line default
#line hidden
#nullable disable
            );
            __builder.AddContent(98, "/");
            __builder.AddContent(99, 
#nullable restore
#line 56 "E:\Project\HassyaAllrightCloud\Pages\Components\Staff\StaffGrid.razor"
                                                                                                                                                                                                                                                                                     List.Count(_ => _.SyokumuKbn == 1 || _.SyokumuKbn == 2)

#line default
#line hidden
#nullable disable
            );
            __builder.AddMarkupContent(100, "）\r\n                        ");
            __builder.AddContent(101, 
#nullable restore
#line 57 "E:\Project\HassyaAllrightCloud\Pages\Components\Staff\StaffGrid.razor"
                         Lang["EmptyGuider"]

#line default
#line hidden
#nullable disable
            );
            __builder.AddContent(102, 
#nullable restore
#line 57 "E:\Project\HassyaAllrightCloud\Pages\Components\Staff\StaffGrid.razor"
                                              List.Count(_ => _.SyokumuKbn == 3 || _.SyokumuKbn == 4) - List.Count(_ => (_.SyokumuKbn == 3 || _.SyokumuKbn == 4) && _.Status == Flag.Todo)

#line default
#line hidden
#nullable disable
            );
            __builder.AddMarkupContent(103, "人（");
            __builder.AddContent(104, 
#nullable restore
#line 57 "E:\Project\HassyaAllrightCloud\Pages\Components\Staff\StaffGrid.razor"
                                                                                                                                                                                               List.Count(_ => (_.SyokumuKbn == 3 || _.SyokumuKbn == 4) && _.Status == Flag.Todo)

#line default
#line hidden
#nullable disable
            );
            __builder.AddContent(105, "/");
            __builder.AddContent(106, 
#nullable restore
#line 57 "E:\Project\HassyaAllrightCloud\Pages\Components\Staff\StaffGrid.razor"
                                                                                                                                                                                                                                                                                     List.Count(_ => _.SyokumuKbn == 3 || _.SyokumuKbn == 4)

#line default
#line hidden
#nullable disable
            );
            __builder.AddMarkupContent(107, "）\r\n                    ");
            __builder.CloseElement();
            __builder.AddMarkupContent(108, "\r\n                    ");
            __builder.OpenElement(109, "div");
            __builder.AddAttribute(110, "class", "hours d-flex");
            __builder.AddMarkupContent(111, "\r\n                        \r\n");
#nullable restore
#line 61 "E:\Project\HassyaAllrightCloud\Pages\Components\Staff\StaffGrid.razor"
                         if (Container.Params.Time == (int)TimeMode.OneHour)
                        {
                            for (var j = 0; j < 24; j++)
                            {

#line default
#line hidden
#nullable disable
            __builder.AddContent(112, "                                ");
            __builder.OpenElement(113, "span");
            __builder.AddContent(114, 
#nullable restore
#line 65 "E:\Project\HassyaAllrightCloud\Pages\Components\Staff\StaffGrid.razor"
                                       j

#line default
#line hidden
#nullable disable
            );
            __builder.CloseElement();
            __builder.AddMarkupContent(115, "\r\n");
#nullable restore
#line 66 "E:\Project\HassyaAllrightCloud\Pages\Components\Staff\StaffGrid.razor"
                            }
                        }

#line default
#line hidden
#nullable disable
#nullable restore
#line 68 "E:\Project\HassyaAllrightCloud\Pages\Components\Staff\StaffGrid.razor"
                         if (Container.Params.Time == (int)TimeMode.ThreeHours)
                        {
                            for (var j = 0; j < 8; j++)
                            {

#line default
#line hidden
#nullable disable
            __builder.AddContent(116, "                                ");
            __builder.OpenElement(117, "span");
            __builder.AddContent(118, 
#nullable restore
#line 72 "E:\Project\HassyaAllrightCloud\Pages\Components\Staff\StaffGrid.razor"
                                        j * 3

#line default
#line hidden
#nullable disable
            );
            __builder.CloseElement();
            __builder.AddMarkupContent(119, "\r\n");
#nullable restore
#line 73 "E:\Project\HassyaAllrightCloud\Pages\Components\Staff\StaffGrid.razor"
                            }
                        }

#line default
#line hidden
#nullable disable
            __builder.AddContent(120, "                    ");
            __builder.CloseElement();
            __builder.AddMarkupContent(121, "\r\n                ");
            __builder.CloseElement();
            __builder.AddMarkupContent(122, "\r\n            ");
            __builder.CloseElement();
            __builder.AddMarkupContent(123, "\r\n            ");
            __builder.OpenElement(124, "div");
            __builder.AddAttribute(125, "class", "listTimeline");
            __builder.AddMarkupContent(126, "\r\n");
#nullable restore
#line 79 "E:\Project\HassyaAllrightCloud\Pages\Components\Staff\StaffGrid.razor"
                 if (ListTmp.Count() == 0)
                {

#line default
#line hidden
#nullable disable
            __builder.AddContent(127, "                    ");
            __builder.OpenElement(128, "div");
            __builder.AddAttribute(129, "class", "text-center");
            __builder.OpenElement(130, "small");
            __builder.AddContent(131, 
#nullable restore
#line 81 "E:\Project\HassyaAllrightCloud\Pages\Components\Staff\StaffGrid.razor"
                                                     Lang["BI_T001"]

#line default
#line hidden
#nullable disable
            );
            __builder.CloseElement();
            __builder.CloseElement();
            __builder.AddMarkupContent(132, "\r\n");
#nullable restore
#line 82 "E:\Project\HassyaAllrightCloud\Pages\Components\Staff\StaffGrid.razor"
                }
                else
                {

#line default
#line hidden
#nullable disable
            __builder.AddContent(133, "                    ");
            __builder.OpenElement(134, "div");
            __builder.AddAttribute(135, "class", "grid-calendar grid-calendar-view");
            __builder.AddMarkupContent(136, "\r\n                        \r\n");
#nullable restore
#line 87 "E:\Project\HassyaAllrightCloud\Pages\Components\Staff\StaffGrid.razor"
                         if (Container.Params.Time == (int)TimeMode.OneHour)
                        {
                            

#line default
#line hidden
#nullable disable
#nullable restore
#line 89 "E:\Project\HassyaAllrightCloud\Pages\Components\Staff\StaffGrid.razor"
                             for (var j = 0; j < 24; j++)
                            {

#line default
#line hidden
#nullable disable
            __builder.AddMarkupContent(137, "                                <div></div>\r\n");
#nullable restore
#line 92 "E:\Project\HassyaAllrightCloud\Pages\Components\Staff\StaffGrid.razor"
                            }

#line default
#line hidden
#nullable disable
#nullable restore
#line 92 "E:\Project\HassyaAllrightCloud\Pages\Components\Staff\StaffGrid.razor"
                             
                        }

#line default
#line hidden
#nullable disable
            __builder.AddMarkupContent(138, "                        \r\n");
#nullable restore
#line 95 "E:\Project\HassyaAllrightCloud\Pages\Components\Staff\StaffGrid.razor"
                         if (Container.Params.Time == (int)TimeMode.ThreeHours)
                        {
                            

#line default
#line hidden
#nullable disable
#nullable restore
#line 97 "E:\Project\HassyaAllrightCloud\Pages\Components\Staff\StaffGrid.razor"
                             for (var i = 0; i < 8; i++)
                            {

#line default
#line hidden
#nullable disable
            __builder.AddMarkupContent(139, "                                <div></div>\r\n");
#nullable restore
#line 100 "E:\Project\HassyaAllrightCloud\Pages\Components\Staff\StaffGrid.razor"
                            }

#line default
#line hidden
#nullable disable
#nullable restore
#line 100 "E:\Project\HassyaAllrightCloud\Pages\Components\Staff\StaffGrid.razor"
                             
                        }

#line default
#line hidden
#nullable disable
            __builder.AddContent(140, "                    ");
            __builder.CloseElement();
            __builder.AddMarkupContent(141, "\r\n");
#nullable restore
#line 103 "E:\Project\HassyaAllrightCloud\Pages\Components\Staff\StaffGrid.razor"
                }

#line default
#line hidden
#nullable disable
#nullable restore
#line 104 "E:\Project\HassyaAllrightCloud\Pages\Components\Staff\StaffGrid.razor"
                 foreach (var staff in ListTmp)
                {

#line default
#line hidden
#nullable disable
            __builder.AddContent(142, "                    ");
            __builder.OpenComponent<HassyaAllrightCloud.Pages.Components.Staff.JobGrid>(143);
            __builder.AddAttribute(144, "ID", Microsoft.AspNetCore.Components.CompilerServices.RuntimeHelpers.TypeCheck<System.Collections.Generic.List<System.Int32>>(
#nullable restore
#line 106 "E:\Project\HassyaAllrightCloud\Pages\Components\Staff\StaffGrid.razor"
                                  staff.JobID

#line default
#line hidden
#nullable disable
            ));
            __builder.AddAttribute(145, "ListJobs", Microsoft.AspNetCore.Components.CompilerServices.RuntimeHelpers.TypeCheck<System.Collections.Generic.List<HassyaAllrightCloud.Domain.Dto.JobItem>>(
#nullable restore
#line 106 "E:\Project\HassyaAllrightCloud\Pages\Components\Staff\StaffGrid.razor"
                                                         ListJobs.Where(_ => _.SyainCdSeq == staff.SyainCdSeq).ToList()

#line default
#line hidden
#nullable disable
            ));
            __builder.AddAttribute(146, "height", Microsoft.AspNetCore.Components.CompilerServices.RuntimeHelpers.TypeCheck<System.Double>(
#nullable restore
#line 106 "E:\Project\HassyaAllrightCloud\Pages\Components\Staff\StaffGrid.razor"
                                                                                                                                 listHeight[ListTmp.IndexOf(staff)]

#line default
#line hidden
#nullable disable
            ));
            __builder.AddAttribute(147, "dropWork", Microsoft.AspNetCore.Components.CompilerServices.RuntimeHelpers.TypeCheck<Microsoft.AspNetCore.Components.EventCallback<System.Boolean>>(Microsoft.AspNetCore.Components.EventCallback.Factory.Create<System.Boolean>(this, 
#nullable restore
#line 106 "E:\Project\HassyaAllrightCloud\Pages\Components\Staff\StaffGrid.razor"
                                                                                                                                                                                 () => HandleDropWork(staff)

#line default
#line hidden
#nullable disable
            )));
            __builder.CloseComponent();
            __builder.AddMarkupContent(148, "\r\n");
#nullable restore
#line 107 "E:\Project\HassyaAllrightCloud\Pages\Components\Staff\StaffGrid.razor"
                }

#line default
#line hidden
#nullable disable
            __builder.AddContent(149, "            ");
            __builder.CloseElement();
            __builder.AddMarkupContent(150, "\r\n        ");
            __builder.CloseElement();
            __builder.AddMarkupContent(151, "\r\n    ");
            __builder.CloseElement();
            __builder.AddMarkupContent(152, "\r\n");
            __builder.CloseElement();
        }
        #pragma warning restore 1998
#nullable restore
#line 113 "E:\Project\HassyaAllrightCloud\Pages\Components\Staff\StaffGrid.razor"
       
    [CascadingParameter] StaffContainer Container { get; set; }
    [Parameter] public List<StaffData> List { get; set; }
    CultureInfo ci = new CultureInfo("ja-JP");
    public List<StaffData> ListTmp { get; set; }
    [Parameter] public int? numberOfVehile { get; set; }
    [Parameter] public List<DrvJinItem> listDriver { get; set; }
    [Parameter] public List<GuiJinItem> listGuider { get; set; }
    [Parameter] public List<VehicleAllocationItem> listVehicleAllocation { get; set; }
    [Parameter] public List<CrewDataAcquisitionItem> listCrewDataAcquisition { get; set; }
    [Parameter] public Flag[] AllowedStatuses { get; set; }
    List<JobItem> ListJobs = new List<JobItem>();
    List<double> listHeight = new List<double>();
    double height = 0;
    double heightline = 2;
    [Inject] protected IErrorHandlerService errorModalService { get; set; }
    public List<StaffData> ListStaff { get; set; }

    protected override void OnParametersSet()
    {
        try
        {
            ListStaff = List.Where(_ => _.Status == Flag.Todo).ToList();
            if (numberOfVehile == null)
            {
                numberOfVehile = 0;
            }
            ListJobs = new List<JobItem>();
            ListTmp = new List<StaffData>();
            listHeight = new List<double>();
            foreach (var staff in ListStaff)
            {
                foreach (var job in Container.Jobs)
                {
                    if (staff.SyainCdSeq == job.SyainCdSeq)
                    {
                        staff.TimeStartString = job.TimeStartString;
                        DateTime start, end;
                        DateTime.TryParseExact(job.SyuKoYmd, CommonConstants.FormatYMD, CultureInfo.InvariantCulture, DateTimeStyles.None, out start);
                        DateTime.TryParseExact(job.KikYmd, CommonConstants.FormatYMD, CultureInfo.InvariantCulture, DateTimeStyles.None, out end);
                        if (DateTime.Compare(start, Container.Date) <= 0 && DateTime.Compare(end, Container.Date) >= 0)
                        {
                            if (!ListTmp.Contains(staff))
                                ListTmp.Add(staff);
                        }
                    }
                }
            }

            if (Container.Params.Sort == (int)StaffSortOrder.Earlier)
            {
                ListTmp = ListTmp.OrderBy(x => x.TimeStartString).ToList();
            }
            else if (Container.Params.Sort == (int)StaffSortOrder.Rolling)
            {
                ListTmp = ListTmp.OrderBy(x => x.TenkoNo).ToList();
            }
            else if (Container.Params.Sort == (int)StaffSortOrder.Job)
            {
                ListTmp = ListTmp.OrderBy(_ => _.SyokumuKbn).ToList();
            }

            ReformatRenderItem();
        }
        catch (Exception ex)
        {
            errorModalService.HandleError(ex);
        }
    }

    private void ReformatRenderItem()
    {
        foreach (var staff in ListTmp)
        {
            if (Container.Params.View == (int)ViewMode.Large)
            {
                heightline = 2; // 32px
            }
            if (Container.Params.View == (int)ViewMode.Medium)
            {
                heightline = 1.6; // 17px
            }
            if (Container.Params.View == (int)ViewMode.Small)
            {
                heightline = 1.3; // 14px
            }

            height = 0;
            List<JobItem> tmp = new List<JobItem>();
            tmp.AddRange(Container.Jobs.Where(x => staff.SyainCdSeq == x.SyainCdSeq));

            if (tmp.Count > 0)
            {

                int countTemp = 0;
                foreach (var job in tmp)
                {
                    job.Width = calWidth(job.SyuKoYmd, job.SyuKoTime, job.KikYmd, job.KikTime);
                    job.Left = calLeft(job.SyuKoYmd, job.SyuKoTime);
                    //job.Width = BusScheduleHelper.calwidth(Container.Width, job.SyuKoYmd, job.SyuKoTime, job.KikYmd, job.KikTime, 1);
                    //job.Left = BusScheduleHelper.calleft(Container.Width, job.SyuKoYmd, job.SyuKoTime, 1, Container.Date);
                    job.Height = heightline;
                    if (countTemp == 0)
                    {
                        job.Top = 0.3125; //5px
                    }
                    else
                    {
                        job.Top = heightline * countTemp + 0.3125 + (countTemp) * 0.3125;
                    }
                    job.CCSStyle = StyleItemText(job);
                    countTemp++;
                }
                ListJobs.AddRange(tmp);

                if (tmp.Count() == 1)
                {
                    height = heightline + 0.625;
                }
                else
                {
                    height = heightline * (tmp.Count()) + (tmp.Count() - 1) * 0.3125 + 0.625;
                }
                listHeight.Add(height);

                for (var i = 0; i < Container.Staffs.Count(); i++)
                {
                    if (staff.SyainCdSeq == Container.Staffs[i].SyainCdSeq)
                    {
                        Container.Staffs[i].Height = height;
                    }
                }
            }
        }

        if(Container.Params.Sort == (int)StaffSortOrder.Work)
        {
            listHeight.Clear();
            var temp = ListJobs.OrderBy(_ => _.UkeNo).ThenBy(_ => _.UnkRen).ThenBy(_ => _.TeiDanNo).ThenBy(_ => _.BunkRen).ThenBy(_ => _.HaiInRen).Select(_ => _.SyainCdSeq).Distinct().ToList();
            for(int i = 0; i < temp.Count; i++)
            {
                var staff = ListTmp.FirstOrDefault(_ => _.SyainCdSeq == temp[i]);
                var index = ListTmp.IndexOf(staff);
                var swap = ListTmp[i];
                ListTmp[i] = staff;
                ListTmp[index] = swap;
                listHeight.Add(staff.Height);
            }
        }
    }

    private double calWidth(string SyuKoYmd, string SyuKoTime, string KikYmd, string KikTime)
    {
        const double hourWidth = 4.166666666666667;
        if (SyuKoYmd == KikYmd)
        {
            var time = int.Parse(KikTime.Substring(0, 2)) - int.Parse(SyuKoTime.Substring(0, 2)) + Math.Abs(int.Parse(KikTime.Substring(2)) - int.Parse(SyuKoTime.Substring(2))) * 1.0 / 60;
            return hourWidth * time;
        }
        else
        {
            var time = 23 - int.Parse(SyuKoTime.Substring(0, 2)) + (59 - int.Parse(SyuKoTime.Substring(2))) * 1.0 / 60;
            return hourWidth * time;
        }
    }

    private double calLeft(string SyuKoYmd, string SyuKoTime)
    {
        if(SyuKoYmd == Container.Date.ToString(CommonConstants.FormatYMD))
        {
            const double hourWidth = 4.166666666666667;
            var time = int.Parse(SyuKoTime.Substring(0, 2)) + int.Parse(SyuKoTime.Substring(2)) * 1.0 / 60;
            return hourWidth * time;
        }
        return 0;
    }

    private int arrangePositionTmp(JobItem tmp, List<List<JobItem>> itemList)
    {
        if (itemList.Count <= 0)
        {
            return 0;
        }

        for (var i = 0; i < itemList.Count; i++)
        {
            if (itemList[i].Count == 0)
            {
                return i;
            }

            if (itemList[i][itemList[i].Count - 1].TimeEndString <= tmp.TimeStartString)
            {
                return i;
            }
        }

        return itemList.Count;
    }

    private string StyleItemText(JobItem item)
    {
        return "width:" + item.Width.ToString() + "%;top:" + item.Top.ToString() + "rem;left:" + item.Left.ToString() + "%;height:" + heightline + "rem";
    }

    protected async Task HandleDropWork(StaffData staff)
    {
        if (AllowedStatuses != null && !AllowedStatuses.Contains(Container.Payload.AllowStatus))
        {
            return;
        }
        Container.isAddMoreWork = true;
        await Container.UpdateJobAsync(staff);
    }

    private string GetColor(StaffData item)
    {
        return !string.IsNullOrWhiteSpace(item.ColKinKyu) ? item.ColKinKyu : "#000000";
    }

    private string GetName(StaffData item, byte type)
    {
        if (type == 0)
            return !string.IsNullOrWhiteSpace(item.WorkNm) ? "（	" + item.WorkNm + "	)" : string.Empty;
        return !string.IsNullOrWhiteSpace(item.HolidayNm) ? "（	" + item.HolidayNm + "	)" : string.Empty;
    }

    protected bool IsPreventDefault()
    {
        if (Container.isJob)
        {
            return true;
        }
        return false;
    }

    private string GetTime(float time)
    {
        return string.Format("{0}:{1}", (int)(time / 60), (int)(time % 60));
    }

    private void ShowToolTip(StaffData staff)
    {
        if (!Container.isAssignJob && !Container.isAssignHoliday && !Container.isAHoliday && (staff.SyokumuKbn == 1 || staff.SyokumuKbn == 2 || staff.SyokumuKbn == 5)) staff.isShowToolTip = true;
    }

    private void HideToolTip(StaffData staff)
    {
        staff.isShowToolTip = false;
    }

    private string OnGetBackgroundColor(StaffData staff)
    {
        return Container.listSyain.Contains(staff.SyainCdSeq) ? "pink" : "#ffffff";
    }

#line default
#line hidden
#nullable disable
        [global::Microsoft.AspNetCore.Components.InjectAttribute] private IStringLocalizer<Pages.Staff> Lang { get; set; }
        [global::Microsoft.AspNetCore.Components.InjectAttribute] private BusScheduleHelper BusScheduleHelper { get; set; }
    }
}
#pragma warning restore 1591
